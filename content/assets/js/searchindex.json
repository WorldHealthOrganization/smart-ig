---
layout: none
---
[
  {% assign pages = site.pages | reject: "title", nil %}
  {% assign excluded_extensions = "json.html,xml.html" | split: "," %}
  {% assign filtered_pages = pages | reject: "url", "" %}
  {% for page in filtered_pages %}
    {% assign include_page = true %}
    {% for ext in excluded_extensions %}
      {% if page.url contains ext %}
        {% assign include_page = false %}
      {% endif %}
    {% endfor %}
    {% if include_page %}
      {
        "title": {{ page.title | jsonify }},
        "url": {{ page.url | jsonify }},
        "content": {{ page.content | strip_html | normalize_whitespace | jsonify }},
        "tags": [{% for tag in page.tags %}{{ tag | jsonify }}{% unless forloop.last %}, {% endunless %}{% endfor %}]
      }{% unless forloop.last %}, {% endunless %}
    {% endif %}
  {% endfor %}
]
